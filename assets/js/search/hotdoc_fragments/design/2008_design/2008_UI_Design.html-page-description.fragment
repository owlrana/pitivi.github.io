fragment_downloaded_cb({"url": "design/2008_design/2008_UI_Design.html#page-description", "fragment": "<div id=\"page-description\" data-hotdoc-source=\"2008_UI_Design.md\">\n<h1 id=\"2008-ui-design\">2008 UI Design</h1>\n<p><a href=\"image:mockup.png.md\">500px</a></p>\n<h1 id=\"to-be-done\">To Be Done</h1>\n<ul>\n<li>Project Render interface description</li>\n<li>Capture Interface description</li>\n<li>Markers (critical points) and their uses\n<ul>\n<li>multi-point split example</li>\n</ul>\n</li>\n<li>Export Audio EDL</li>\n<li>Object add mock-up</li>\n<li>Select mock-up</li>\n<li>Property Editor mock-up</li>\n<li>Timeline Effects mock-up</li>\n<li>Compositing mock-up</li>\n<li>Grouping\n<ul>\n<li>use cases and illustrations</li>\n</ul>\n</li>\n<li>Linking\n<ul>\n<li>use cases and illustrations</li>\n</ul>\n</li>\n<li>Tweaks\n<ul>\n<li>put track disable control on all mock-ups</li>\n<li>put new toolbar commands on all mock-ups\n<ul>\n<li>select before, after, above, below, entire layer, entire\ntrack, all, none</li>\n<li>enable/disable object</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Decide which items go in the Preferences dialog or not</li>\n</ul>\n<h2 id=\"editing\">Editing</h2>\n<p>GIMP file(s) used for creating mockups</p>\n<p><a href=\"media:base.xcf\">media:base.xcf</a></p>\n<h1 id=\"design-principles\">Design Principles</h1>\n<ol>\n<li>Use direct manipulation for most common operations.</li>\n<li>Use noun-verb pattern for most other operations (see below)</li>\n<li>Minimize the number of modes. Modes are evil.</li>\n<li>Use quasi-modes instead of modes</li>\n<li>Provide feedback. Change cursor styles, provide real time updates.</li>\n</ol>\n<h2 id=\"nounverb-interaction\">Noun-Verb Interaction</h2>\n<p>Select what you want, then issue a command to manipulate it.</p>\n<ul>\n<li>commands are \u201cverbs\u201d which operate on current selection. These\ncommands are only sensitive when valid on the current selection.\n<ul>\n<li>provide an easy way to add new commands of this type</li>\n</ul>\n</li>\n<li>Only conventional \u201ctool\u201d is the split tool. You activate it first,\nthen click where you want to cut.\n<ul>\n<li>and we provide a non-modal variant of this that operates on the\ncurrent selection.</li>\n<li>don't provide an easy way to create other modal tools</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"representative-tasks\">Representative Tasks</h1>\n<p>Frequent Tasks</p>\n<ul>\n<li>finding a specific time in the timeline</li>\n<li>shifting a clip's start position</li>\n<li>triming a clip's in or out position</li>\n<li>spliting a clip into multiple pieces</li>\n<li>previewing the project</li>\n<li>adjusting audio volume or video alpha</li>\n<li>moving sources between layers</li>\n<li>adding sources to the timeline</li>\n<li>deleting sources from the timeline</li>\n<li>adjusting individual object properties</li>\n<li>applying an effect to a portion of the timeline</li>\n</ul>\n<p>Occasional Tasks</p>\n<ul>\n<li>moving sources between tracks</li>\n<li>editing multiple objects simultaneously</li>\n<li>re-using the same sequence of video repeatedly\n<ul>\n<li>possibly with slight-variations</li>\n</ul>\n</li>\n<li>linking two arbitrary objects so they stay in sync</li>\n<li>unlinking linked objects</li>\n<li>color correcting a source with poor white-balance</li>\n<li>filtering noise from audio</li>\n<li>marking significant points in a timeline, such as sound bites from\nan interview or instants at which sound effects should play</li>\n<li>cutting a source in multiple places</li>\n</ul>\n<p>Special Tasks</p>\n<ul>\n<li>transcoding from original to editing-friendly codecs</li>\n<li>re-conforming a project\n<ul>\n<li>i.e. from work-print quality to full-quality</li>\n</ul>\n</li>\n<li>exporting from native to external project formats</li>\n<li>importing external projects to native pitivi projects</li>\n</ul>\n<h1 id=\"overview\">Overview</h1>\n<p><a href=\"image:mockup-annotated.png.md\">500px</a></p>\n<p>There are several primary components:</p>\n<ul>\n<li>viewer</li>\n<li>timeline</li>\n<li>clip library (also referred to as sources browser)</li>\n<li>property editor</li>\n<li>effect library</li>\n<li>main toolbar</li>\n<li>timeline toolbar</li>\n</ul>\n<p>These components all share a single window by default. The Viewer,\nTimeline, Clip Library, and Clip Editor, and Effect Library can be\ndetached from the main window by clicking a special \u201cdetach\u201d button.\nThese windows appear as normal top-level windows. When the user closes\none of these windows, the component returns to its default location. In\naddition, the clip editor and viwer can be \u201cexpanded\u201d so that they\ncompletely fill their parent windows.</p>\n<h2 id=\"keyboard\">Keyboard</h2>\n<ul>\n<li>shift, ctrl, alt, and ctrl+alt act as quasi-mode modifiers: they\nmust be held down to activate special modes.</li>\n<li>use alphanumeric keys for more esoteric operations: users are used\nto shift, alt, ctrl acting as modifiers.</li>\n<li>provide Ctr+<key> shortcuts for menu items</key></li>\n<li>arrow keys used for seeking</li>\n</ul>\n<h2 id=\"selections\">Selections</h2>\n<p>&lt;images/gselect2.png&gt;</p>\n<p>When the mouse moves over a selectable item, it becomes highlighted to\nindicate its focus.</p>\n<p>&lt;images/gselect3.png&gt;</p>\n<p>Single-clicking on items sets the selection to that item. Selection is\nindicated by more prominent highlighting.</p>\n<ul>\n<li><strong>shift-click</strong> always adds the object to a selection</li>\n<li><strong>ctrl-click</strong> toggles whether the item is selected or not</li>\n<li><strong>alt-click</strong> always removes the object from the selection</li>\n</ul>\n<p>Whatever the method used, selection is an undoable action.</p>\n<p>&lt;images/gselect4.png&gt; <a href=\"image:select5.png\">image:select5.png</a></p>\n<p>Click and drag on blank canvas activates selection marquee. While\ndragging the selection marquee, objects that will be selected when the\nmouse-button is released indicate focus. It is clear which objects\ntouched by the marquee will be selected.</p>\n<ul>\n<li><strong>shift</strong> extends the selection over a <strong>range</strong></li>\n<li><strong>ctrl</strong> sets the selection to the <strong>intersection</strong> of the current\nselection and the objects under the marquee</li>\n<li><strong>alt</strong> removes the objects under the marquee from the selection</li>\n<li>selecting an empty area clears the selection. This means clicking on\nblank canvas also clears the selection.</li>\n</ul>\n<p>&lt;images/gselect_basic.png&gt;</p>\n<p>Some tool-bar commands to modify selection. These are track-wise\noperations. The operation will be performed for each track which\ncontains a selected clip. These operations to not apply to selections of\nkey-frame points within clips, but they do apply to timeline and\ntrack-level markers.</p>\n<p>&lt;images/gselect_before.png&gt;</p>\n<p>\u201cSelect before\u201d -- select everything between the start of the project\nand the current selection</p>\n<p>&lt;images/gselect_after.png&gt;</p>\n<p>\u201cSelect After\u201d -- select everything between the end of the project and\nthe current selection</p>\n<p>&lt;images/gselect_above.png&gt;</p>\n<p>\u201cSelect Above\u201d -- select everything between the top-most layer and the\ncurrent selection</p>\n<p>&lt;images/gselect_below.png&gt;</p>\n<p>\u201cSelect Below\u201d</p>\n<p>&lt;images/gselect_layer.png&gt;</p>\n<p>\u201cSelect Entire Layer\u201d -- selects everything else in the layer(s) of the\ncurrently selected source(s)</p>\n<p>&lt;images/gselect_track.png&gt;</p>\n<p>\u201cSelect Entire Track\u201d -- selects everything else in the track(s) of the\ncurrently selected source(s)</p>\n<p>&lt;images/gselect_none.png&gt;</p>\n<p>\u201cSelect None\u201d -- remove all items from the current selection</p>\n<p>&lt;images/gselect_all.png&gt;</p>\n<p>\u201cSelect All\u201d -- select the entire project</p>\n<h1 id=\"viewer\">Viewer</h1>\n<p>Used for playing back video from a variety of sources, primarily the\ntimeline. Provides basic playback controls, as well as single-frame\nforward / rewind.</p>\n<h2 id=\"functions-of-the-viewer\">Functions of the Viewer</h2>\n<ul>\n<li>displays output of timeline at current position of playhead</li>\n<li>temporary playback of sources from the browser.</li>\n<li>temporary feedback of editing operations</li>\n</ul>\n<h2 id=\"automatic-preview\">Automatic Preview</h2>\n<p>During certain edit operations, the it would be useful if the viewer\ncould show visual feedback of the edit in progress. After operation\nends, viewer returns to previous state.</p>\n<ul>\n<li>during a roll edit between two sources A, B, viewer should split\nbetween out point of source A and in point of source B</li>\n<li>during a drag operation, viewer should show the instant just\nbefore/after the new source will cut in/out. Based on overlap. If no\noverlap, no preview. If overlap of one source, show that source. If\noverlapping one source at each end, split viewer between them.</li>\n</ul>\n<h2 id=\"continuous-loop\">Continuous Loop</h2>\n<p>The user can lock the viewer into a continuous loop over a portion of\nthe timeline. In this case, all other seeking behavior is disabled. The\nuser can make continuous adjustments while the loop plays.</p>\n<ul>\n<li>need some mechanism to define the area over which to loop.\n<ul>\n<li>one thought is to place markers. User can select two markers to\ndefine an an area and then press the loop command.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"timeline\">Timeline</h1>\n<p>&lt;images/gtimeline_detail.png&gt;</p>\n<p>The primary component of the UI. This is where the user directly\nmanipulates sources and effects which will appear in the final output.\nIt is a time-proportional representation of the edit decision list.\nClips appear as horizontal rectangles, their with proportional to their\nduration, and their position along the x axis proportional to the time\nat which they start. The metaphor is of virtual strips of film. The user\ncan \u201ccut\u201d (meaning split), move, resize, and group (splice?) these\nstrips.</p>\n<h2 id=\"seeking-and-navigation-controls\">Seeking and Navigation Controls</h2>\n<ul>\n<li>scrubbing directly on the timeline ruler will seek to that place in\nthe timeline</li>\n<li>left and right arrow keys seek forward/back single frames at the\ncurrent project framerate.</li>\n<li>Holding down keys causes repeated seeking.</li>\n<li>Shift + arrow key seeks over 1/2 second interval</li>\n<li>Alt + arrow key seeks over 30 interval</li>\n<li>Ctrl multiplies current seek interval by factor of 10</li>\n<li>Whenever play-head moves out of view, the Timeline widget should\nscroll to center the play-head in view.</li>\n</ul>\n<h2 id=\"tracks\">Tracks</h2>\n<p>&lt;images/gMulti_track_editing.png&gt;</p>\n<p>The timeline is subdivided into <strong>tracks</strong>. Tracks represent separate\noutput channels with a single media type. Within a track, all objects\nhave the same media type, and there is at least one track in the\ntimeline for every type of media that the timeline contains. The user\ndoes not add or remove tracks directly: the user adds objects to the\ntimeline, and tracks are created as appropriate. Most projects will only\nhave one audio and one video track.</p>\n<p>Tracks can be expanded or contracted. Expanded tracks stack their clips\nvertically, according to the clips' layer position (priority). When a\ntrack is collapsed, all sources appear at the same vertical position, as\nif contained within a single layer. This single layer can then be\nfurther collapsed.</p>\n<h3 id=\"layers\">Layers</h3>\n<p>Tracks are themselves subdivided into layers. Layers are priority levels\nwithin a track. For audio, all layers within a track are mixed together\ninto a single stream. For video, all sources within a track are\ncomposited together in a single stream. The layer position determines\nthe order in which videos are composited, with the visually topmost\nlayer appearing as the top-most source in the stream.</p>\n<p>&lt;images/glayer_addition.png&gt; The user can add layers to a given track by\ndragging the track's separator bar downward. Similarly, the user can\nremove tracks by dragging the layer's separator bar upward; however,\nremoval of the bottom layer will only be permitted if the layer is\nempty. Objects within layers can be stacked arbitrarily. This is\nparticularly useful for effects, which operate lower-priority objects\nwithin the timeline.</p>\n<h3 id=\"managing-vertical-complexity\">Managing Vertical Complexity</h3>\n<p><a href=\"image:expanded_layer.png.md\">expanded layer|Expanded Layer</a></p>\n<p>Ordinarily, layers take up a fair amount of space. This is to make room\nfor thumbnails, waveforms, and keyframes.</p>\n<p><a href=\"image:contracted_layer.png.md\">collapsed layer|Collapsed Layer</a></p>\n<p>Layers and tracks can be contracted to save space. The user can contract\na layer by clicking their expander widgets on the far left side of the\ntimeline.</p>\n<p>&lt;images/gcontracted_track.png&gt;</p>\n<p>This can also be done for entire tracks</p>\n<h3 id=\"sources-and-effects\">Sources and Effects</h3>\n<p>&lt;images/gtimelineobject_detail.png&gt;</p>\n<p>Sources and effects (within a track) are content streams of a single\nmedia type. Sources are clips which provide data. Effects are filters\nwhich consume lower priority clips as input and produce filtered output.</p>\n<p>Both Source and effect objects have properties. All properties can be\nmanipulated via the property browser, but some of properties, like audio\nvolume or video alpha, will be so commonly used that they are embedded\ndirectly onto the widget. These \u201cembedded\u201d interpolation curves are\nmanipulated in exactly the same way as interpolation curves in the\nproperty editor (see the Default Property Editor section) for more info.</p>\n<h3 id=\"moving-timeline-objects\">Moving Timeline Objects</h3>\n<p>Objects in the timeline can move in both horizontal and vertical axis.\nThe semantics, however, change depending on the type of object. For all\nobjects, the horizontal (x) axis is interpreted as the time axis. For\nsources an effects, the vertical (y) axis the source's layer position\nwithin a track (tracks are shown visually stacked, but moving a source\nbetween tracks is accomplished through a different mechanism).</p>\n<h3 id=\"moving-horizontally\">Moving Horizontally</h3>\n<ul>\n<li>All objects in the current selection move simultaneously.</li>\n<li>Edge snapping when moving multiple items needs to be carefully\ndesigned so that it is not destructive. A conservative approach\nwould be to snap only the beginning and end of the entire selection.</li>\n</ul>\n<h3 id=\"edge-frame-snapping\">Edge / Frame Snapping</h3>\n<p>All objects have edge snapping enabled during horizontal motion. At this\npoint, we believe this is the most common use case. This edge snapping\neffect is intended to be subtle, with a deaband of only a few pixels.</p>\n<ul>\n<li>Active by default, disabled while holding shift.</li>\n<li>Exact behavior defined in core. Basic idea is that certain\ntimestamps in the timeline act as \u201cmagnetic\u201d points which objects\nwill tend to \u201cstick\u201d to when they get close enough.\n<ul>\n<li>this is already implemented. Just needs to be refined a bit.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"temporary-deactivation\">Temporary Deactivation</h3>\n<p>&lt;images/gdeactivated_objects&gt;</p>\n<p>Objects in the timeline can be temporarily deactivated. The deactivate\ncommand is in found in the timeline toolbar, and will deactivate\nwhatever objects are in the current selection. The reactivate command\nundoes this operation.</p>\n<p>An entire track can also be suppressed. To do this, click the disable\ntoggle near the track's name on the left side of the timeline.</p>\n<h2 id=\"adding-objects\">Adding Objects</h2>\n<h3 id=\"adding-a-clip\">Adding a Clip</h3>\n<p>&lt;images/gadd_clip1.png&gt; The user chooses the clip from the clip browser by\nclicking and dragging.</p>\n<p>&lt;images/gadd_clip2.png&gt; When the object enters the timeline, the timeline\nresponds by showing how the timeline will change. In this case the clip\nhas both audio and video streams, so objects appear in both audio and\nvideo tracks.</p>\n<p>&lt;images/gadd_clip3.png&gt; The user can move objects to desired layers and\ntime offsets.</p>\n<p>&lt;images/gadd_clip4.png&gt; By holding the appropriate modifier key, the user\ncan push existing objects out of the way...</p>\n<p>&lt;images/gadd_clip5.png&gt; ...or add a source into a new layer.</p>\n<h3 id=\"adding-an-effect\">Adding an Effect</h3>\n<p>Effects can be dropped into the timeline in almost exactly the same way\nas clips. The main difference is that effects come from the effects\nlibrary.</p>\n<p>&lt;images/gadd_effect1.png&gt; User selects the effects library from the tab.</p>\n<p>&lt;images/gadd_effect2.png&gt; When adding effects into a new layer, the layer\nis initially collapsed.</p>\n<h2 id=\"fine-tuning-trimming-objects\">Fine Tuning: Trimming Objects</h2>\n<p>Trimming a clip is always possible by clicking/dragging on source\ntrimming handles. By default, the in or out point of a clip should be\nedge-snapped (so that it is easy to put the clip back the way it was).\nThe UI should constrain the the settingof in/out point so that sources\ncan't be stretched beyond maximum native duration. <strong>clicking and\ndragging a trimming handle should not change the current selection</strong></p>\n<p>&lt;images/gtrim1.png&gt;</p>\n<p>First, the user moves the mouse over the desired clip's trimming handle</p>\n<p>&lt;images/gtrim2.png&gt;</p>\n<p>The cursor changes to a left- or right-edge trimming cursor.</p>\n<p>&lt;images/gtrim3.png&gt;</p>\n<p>Click-and drag sets the in or out point of the clip as appropriate.</p>\n<h3 id=\"roll-edits\">Roll Edits</h3>\n<p>A variant of trimming, which works when two clips are adjacent in the\nsame layer. Sets the in-point of the left clip an the out-point of the\nright clip, keeping the total duration of both sources the constant.\nRoll edits are activated by holding the appropriate modifier key while\ndragging a trimming handle. Note that this is only expected to work when\nit is possible to set the in/out points of both sources to the same\npoint in time.</p>\n<p>&lt;images/groll1.png&gt;</p>\n<p>First the user places the mouse over the appropriate trimming handle.</p>\n<p>&lt;images/groll2.png&gt;</p>\n<p>The user holds down the appropriate modifier key. Cursor changes from\ntrimming to roll-edit cursor.</p>\n<p>&lt;images/groll3.png&gt;</p>\n<p>When the user drags the mouse, the edit points are set as appropriate.</p>\n<p>&lt;images/gtrim3.png&gt;</p>\n<p>However, if the user releases the roll-edit modifier key, the edit\nreverts to the default trimming operation.</p>\n<h3 id=\"ripple-edits\">Ripple Edits</h3>\n<p>This is another variant on basic trimming. The source who's trimming\nhandle is being manipulated is trimmed as usual, however the adjacent\nsource(s) are rightward in the appropriate direction, so that the\ntrimming does not create a gap between the sources. This shifting\ncarries down the entire length of the track, keeping sources in the same\nrelative position.</p>\n<p>&lt;images/gripple1.png&gt;</p>\n<p>User places cursor over the desired source's trimming handle.</p>\n<p>&lt;images/gripple2.png&gt;</p>\n<p>User holds the appropriate modifier key. Cursor changes to ripple cursor</p>\n<p>&lt;images/gripple3.png&gt;</p>\n<p>User drags the the mouse. Adjacent sources are shifted.</p>\n<p>&lt;images/gripple4.png&gt;</p>\n<p>The user can also hold an additional modifier key to make the ripple\nedit work across multiple layers.</p>\n<p>If the user releases the ripple-edit modifier key, the edit reverts to\nthe default trimming operation.</p>\n<h3 id=\"time-stretch\">Time Stretch</h3>\n<p>Another variant on basic trimming. The source's in/out points are not\nset as normal, but rather the source keeps the same in/out points and\nthe source is sped up or slowed down to accommodate the new duration.\nTimestretch only applies to sources of finite length, such as files.</p>\n<h2 id=\"linking\">Linking</h2>\n<p>There are two methods of combining timeline objects together: linking\nand grouping. Linking allows the user to keep distinct timeline objects\nsynchronized. Moving one object causes all of its linked \u201csibling\u201d\nobjects to move. The relative offset between siblings is preserved.</p>\n<p>&lt;images/glink1.png&gt; <a href=\"image:link2.png\">image:link2.png</a></p>\n<p>Some clips will be linked by default (for example, audio and video from\nthe same file).</p>\n<p>&lt;images/glink1.png&gt; <a href=\"image:link3.png\">image:link3.png</a></p>\n<p>But the user can link arbitrary objects together as well.</p>\n<p>To link objects:</p>\n<ul>\n<li>set the selection to the objects you wish to link</li>\n<li>click the \u201clink\u201d command from the timeline toolbar</li>\n<li>the objects will now remain synchronized</li>\n</ul>\n<p>To unlink objects:</p>\n<ul>\n<li>select one or more objects</li>\n<li>choose the \u201cunlink\u201d command</li>\n<li>each object will be unlinked from its siblings separately (the rest\nof the siblings remain linked).</li>\n</ul>\n<h2 id=\"grouping\">Grouping</h2>\n<p>Grouping is similar to linking in that multiple objects are combined,\nbut different in that the resulting group is treated as a single object.\nThe user can make multiple \u201cclones\u201d of a single \u201cmaster\u201d, and changes to\nthe master will ripple out to each of the clones. Unlike linking,\ngrouping creates a new \u201cclip\u201d in the Clip Library. Effects applied to\nthe group apply to the output of the group as a whole, rather than the\ntopmost object in the group.</p>\n<p>&lt;images/ggrouping1.png&gt;<a href=\"image:grouping2.png\">image:grouping2.png</a></p>\n<p>To group objects:</p>\n<ul>\n<li>select one or more objects</li>\n<li>choose the \u201cgroup\u201d command</li>\n<li>the original objects are removed from timeline, and the resulting\ngroup object is substituted.</li>\n</ul>\n<p>To ungroup objects:</p>\n<ul>\n<li>select one or more groups</li>\n<li>choose the \u201cungroup\u201d command</li>\n</ul>\n<p>TODO: how will we edit the groups? Two approaches: recursive editing, or\n\u201cexpanding\u201d in place. What are the pros and cons of each? Other issues:\nfull, partial, or no synchronization of clones.</p>\n<h1 id=\"clip-library-formerly-source-browser\">Clip Library (formerly Source Browser)</h1>\n<p>&lt;images/gclip_library.png&gt;</p>\n<p>Contains a list of all the clips in the project. The user can drag\nexternal files onto this component to add them to the project (an import\ntool bar command also works. The user adds clips to the Timeline by\ndragging them them from the Clip Library and dropping them onto the\nTimeline.</p>\n<p>The Clip Library also provides commands to manipulate the clips in the\nproject:</p>\n<ul>\n<li>remove clips from the library</li>\n<li>set default edit (in/out) points of a clip</li>\n<li>convert clips from one media type to another:\n<ul>\n<li>e.g. convert audio stream to video stream with a visualization\nfilter</li>\n<li>e.g. convert midi stream to audio stream with synthesizer plugin</li>\n</ul>\n</li>\n<li>re-conform or transcode clips\n<ul>\n<li>e.g. re-capture material from a tape at a different resolution</li>\n<li>e.g. convert a file \u201cin-place\u201d from MPEG to MJPEG\n<ul>\n<li>doesn't replace original file on disk, just in project</li>\n<li>and you can revert to the original at any time</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>pre-process and filter clips\n<ul>\n<li>e.g. video color correction</li>\n<li>e.g. audio noise filtering</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"property-editor\">Property Editor</h1>\n<p>Sharing the same tab view as the source browser is the property editor.\nWhile the timeline is meant to provide a film-strip metaphor, the\nproperty interface allows the user to change the more abstract\nproperties of the currently selected timeline object(s) (for example,\naudio balance, or image color correction). The type of controls\npresented are determined by the current selection:</p>\n<ul>\n<li>accessable at all times by clicking on its tab</li>\n<li>default interface which simply presents a control for every\navailable property should work in the majority of cases\n<ul>\n<li>time-varying properties are presented on an interpolation graph</li>\n</ul>\n</li>\n<li>but we also need custom editors for specific media types:\n<ul>\n<li>still images require a custom interface</li>\n<li>animations (image collections) require still another</li>\n<li>advanced compositing tools</li>\n<li>many effect plug-ins will want to define their own UI</li>\n</ul>\n</li>\n<li>In addition, the property editor is displayed whenever the current\nselection changes (unless the change has cleared the selection, in\nwhich case you see the source library instead).</li>\n</ul>\n<h2 id=\"default-property-editor\">Default Property Editor</h2>\n<p><img src=\"images/gdefault_property_editor.png\" alt=\"\"></p>\n<p><strong>Goals</strong></p>\n<ul>\n<li>auto-generated for arbitrary objects</li>\n<li>useful in the majority of cases</li>\n<li>better than nothing when no specific UI exists</li>\n<li>useful when multiple objects of different types are selected -- the\ncommon properties can be presented and edited simultaneously.</li>\n</ul>\n<p><strong>Features</strong> The default editor lets you set all of the otherwise hidden\nproperties of an object. It's will be most usable when the mapping\nbetween an object's properties and their effect on the output is\nstraightforward. For example, audio volume, our video alpha. The current\nimplementation of the videobox element is a good example of what won't\nwork well with this module (a more dedicated UI focused on\ncropping/panning would needed).</p>\n<p>A few object properties will be static (i.e. they are time invariant).\nThese will be displayed as standard GTK+ Widgets. Other properties are\n\u201ccontrollable\u201d (i.e. time-varying). The user can directly manipulate the\ninterpolation curves for these properties through curve control points\nobjects, which we refer to as \u201ckey-frames.\u201d A <a href=\"Keyframe_Editing.md\">partial\nprototype</a> of this design is available.</p>\n<ul>\n<li>all curves will be plotted on a single graph</li>\n<li>key-frames points define critical points of an interpolation curve\n<ul>\n<li>moving a key-frame horizontally changes its time-stamp</li>\n<li>the curve is always plotted between keyframes in sorted order\n(see the key-frame demo)</li>\n<li>moving a key-frame vertically sets its value</li>\n</ul>\n</li>\n<li>graph supports exactly the same selection idioms as the timeline</li>\n<li>curves have different colors so they can be visually separated</li>\n<li>a legend maps colors to curves (labels also appear alongside each\ncurve)\n<ul>\n<li>click-and-drag on a curve moves all its points vertically by the\nsame delta</li>\n</ul>\n</li>\n</ul>\n<p>&lt;images/gproperties_curve.png&gt;</p>\n<p>The user can add key-frames in two different ways ways:</p>\n<ul>\n<li>double-clicking the curve</li>\n<li>selecting two key-frames on the same curve and clicking the\n\u201cadd-point\u201d command in the tool-bar. this adds a point half-way\nbetween the two selected points.</li>\n</ul>\n<p>The user can delete key-frame points in two different ways:</p>\n<ul>\n<li>double-clicking a point</li>\n<li>selecting one or more points and pressing the delete-point button in\nthe tool-bar</li>\n</ul>\n<p>GStreamer supports different interpolation modes, but only for the\nentire curve. Changing the interpolation mode for a single point isn't\npossible (we'll have to write our own interpolation code). On the other\nhand, it makes sense to treat interpolation mode as a per-point option.\nFor now setting the interpolation mode on a point will simply set the\ninterpolation mode on its parent curve.</p>\n<ul>\n<li>select the desired curve, or a single keyframe of a curve</li>\n<li>set the desired mode by choosing from the interpolation mode pop-up\nmenu in the timeline toolbar.</li>\n<li>this should also work if multiple curves / key-frames from multiple\ncurves are selected.</li>\n</ul>\n<h2 id=\"image-property-editor\">Image Property Editor</h2>\n<p>The user can add still images to the timeline. By default the image is\nletterboxed to the current project resolution, but these defaults can be\nchanged to suit the users's needs.</p>\n<p>&lt;images/gimage_source1.png&gt; First the user selects the image in the\ntimeline</p>\n<p>&lt;images/gimage_source2.png&gt; The image property editor appears in the\nproperty browser.</p>\n<p>&lt;images/gimgage_source3.png&gt; The user can crop the image to an arbitrary\nregion.</p>\n<p>&lt;images/gimage_source4.png&gt;</p>\n<p>&lt;images/gimage_source5.png&gt; The user can scale the image as appropriate.</p>\n<p>&lt;images/gimage_source6.png&gt; The user can also set the orientation of the\nimage.</p>\n<h2 id=\"animation-property-editor\">Animation Property Editor</h2>\n<p>NEEDS WORK</p>\n<p>Specify sets of pictures which will be displayed in sequence:</p>\n<ul>\n<li>set duration or framerate</li>\n<li>set cropping, rotation, scaling</li>\n<li>transitions between frames? (Ray Harryhausen famously used\ncross-fading between frames for smoother motion)</li>\n</ul>\n<p>Other Ideas:</p>\n<ul>\n<li>backround / cell paradigm -- user chooses a back drop, and can\ncomposite multiple layers of translucent/transparent cells</li>\n</ul>\n<h2 id=\"motion-transform-editor\">Motion Transform Editor</h2>\n<p>NEEDS WORK</p>\n<p>For the \u201cmotion transform\u201d effect object (yet to be implemented)</p>\n<p>Needs to support the following properties over time</p>\n<ul>\n<li>cropping</li>\n<li>scaling</li>\n<li>rotation</li>\n</ul>\n<p>Also need to be able to set the color and/or alpha of the \u201cbackground\u201d.</p>\n<p>Ideas...parametric curves on a 2-d plane? Looping previews?</p>\n<h2 id=\"advanced-compositing-editor\">Advanced Compositing Editor</h2>\n<p>NEEDS WORK</p>\n<p>Chroma key</p>\n<ul>\n<li>set thresholds, choos key color (eye-dropper?)</li>\n</ul>\n<p>Blue/Green/Red screen</p>\n<ul>\n<li>set thesholds</li>\n</ul>\n<p>Should thresholds and key-color be time varying? Definitely need at\nleast a local preview. Using the viewer would be better.</p>\n<h2 id=\"title-card-editor\">Title Card Editor</h2>\n<p><a href=\"image:title_card_editor.md\">image:title card editor</a> The title\ncard editor might look something like this.</p>\n<h1 id=\"effect-library\">Effect Library</h1>\n<p>The effect library lists all of the available effects, whether delivered\nthrough plug-ins or internal to PiTiVi. The user can drag-and-drop\neffects into the timeline in the same way they can with clips.</p>\n<h1 id=\"toolbars\">Toolbars</h1>\n<h2 id=\"main-toolbar\">Main Toolbar</h2>\n<p>Provides application-level commands:</p>\n<ul>\n<li>new project</li>\n<li>open project</li>\n<li>save project</li>\n<li>render project</li>\n<li>full-screen/window mode</li>\n<li>import clips to project</li>\n</ul>\n<h2 id=\"timeline-toolbar\">Timeline Toolbar</h2>\n<p>Flush with the edge of the screen in full-screen mode, for easy access\nto commands.</p>\n<p>Finally, there is one modal tool -- the split tool -- which splits a\nclip or effect object into two segments.</p>\n<p>Zooming Controls:</p>\n<ul>\n<li>zoom in</li>\n<li>zoom out</li>\n<li>??</li>\n</ul>\n<p>Provides a list of commands which operate on the current selection.</p>\n<ul>\n<li>delete</li>\n<li>link</li>\n<li>unlink</li>\n<li>group</li>\n<li>ungroup</li>\n<li>collapse</li>\n<li>select right of</li>\n<li>select left of</li>\n</ul>\n<p>In addition, other commands will appear or become sensitive depending on\ncontext - i.e. the current selection.</p>\n<p>When one or more curves is in the selection:</p>\n<ul>\n<li>interpolation mode combo box</li>\n<li>add and delete point commands</li>\n</ul>\n<h3 id=\"zooming-and-scrolling\">Zooming and Scrolling</h3>\n<ul>\n<li>Center on scroll position</li>\n<li>Provide \u201ccenter on playhead\u201d command</li>\n<li>Zoom control should provide meaningful zoom levels: 1, 5, 10 frames,\n1, 5, 10, seconds, 1, 5, 10 minutes.\n<ul>\n<li>or would we rather have continuous zoom?. After Effects / vegas\nseem to have a very slick continuous zoom.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"preferences-dialog\">Preferences Dialog</h1>\n<p>This is a list of every imaginable setting that could possibly go in\nthere. It is intended to be reviewed mercilessly, so that we decide to\naccept/deny their inclusion.</p>\n<ul>\n<li>thumbnail height, expanded/collapsed</li>\n<li>whether thumbnails are visible</li>\n<li>whether waveforms are visible</li>\n<li>previewing options\n<ul>\n<li>to be elaborated. May just be part of the menus so that it can\nbe accessed in real-time?</li>\n</ul>\n</li>\n<li>location of scratch disks</li>\n<li>default project format (for new projects)</li>\n<li>hotkey configuration</li>\n<li>direct manipulation</li>\n<li>autosave</li>\n<li>default location to use when optening a file or importing clips\n(last forlder, arbitrary location)</li>\n<li>color values for the timeline ruler and the backround of clips</li>\n<li>whether edge snapping is enabled by default</li>\n<li>the size of deadband to use for edge snapping</li>\n</ul>\n\n</div>\n\n\n\t"});