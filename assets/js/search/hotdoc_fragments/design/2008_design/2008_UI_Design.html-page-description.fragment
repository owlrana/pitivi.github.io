fragment_downloaded_cb({"url": "design/2008_design/2008_UI_Design.html#page-description", "fragment": "px \nGIMP file s used for creating mockups \nmedia base.xcf \nSelect what you want then issue a command to manipulate it. \nFrequent Tasks \nOccasional Tasks \nSpecial Tasks \npx \nThere are several primary components \nThese components all share a single window by default. The Viewer Timeline Clip Library and Clip Editor and Effect Library can be detached from the main window by clicking a special detach button. These windows appear as normal top level windows. When the user closes one of these windows the component returns to its default location. In addition the clip editor and viewer can be expanded so that they completely fill their parent windows. \nimages gselect2.png \nWhen the mouse moves over a selectable item it becomes highlighted to indicate its focus. \nimages gselect3.png \nSingle clicking on items sets the selection to that item. Selection is indicated by more prominent highlighting. \nWhatever the method used selection is an undoable action. \nimages gselect4.png image select5.png \nClick and drag on blank canvas activates selection marquee. While dragging the selection marquee objects that will be selected when the mouse button is released indicate focus. It is clear which objects touched by the marquee will be selected. \nimages gselect_basic.png \nSome tool bar commands to modify selection. These are track wise operations. The operation will be performed for each track which contains a selected clip. These operations to not apply to selections of key frame points within clips but they do apply to timeline and track level markers. \nimages gselect_before.png \nSelect before select everything between the start of the project and the current selection \nimages gselect_after.png \nSelect After select everything between the end of the project and the current selection \nimages gselect_above.png \nSelect Above select everything between the top most layer and the current selection \nimages gselect_below.png \nSelect Below \nimages gselect_layer.png \nSelect Entire Layer selects everything else in the layer s of the currently selected source s \nimages gselect_track.png \nSelect Entire Track selects everything else in the track s of the currently selected source s \nimages gselect_none.png \nSelect None remove all items from the current selection \nimages gselect_all.png \nSelect All select the entire project \nUsed for playing back video from a variety of sources primarily the timeline. Provides basic playback controls as well as single frame forward rewind. \nDuring certain edit operations the it would be useful if the viewer could show visual feedback of the edit in progress. After operation ends viewer returns to previous state. \nThe user can lock the viewer into a continuous loop over a portion of the timeline. In this case all other seeking behavior is disabled. The user can make continuous adjustments while the loop plays. \nimages gtimeline_detail.png \nThe primary component of the UI. This is where the user directly manipulates sources and effects which will appear in the final output. It is a time proportional representation of the edit decision list. Clips appear as horizontal rectangles their with proportional to their duration and their position along the x axis proportional to the time at which they start. The metaphor is of virtual strips of film. The user can cut meaning split move resize and group splice these strips. \nimages gMulti_track_editing.png \nThe timeline is subdivided into tracks. Tracks represent separate output channels with a single media type. Within a track all objects have the same media type and there is at least one track in the timeline for every type of media that the timeline contains. The user does not add or remove tracks directly the user adds objects to the timeline and tracks are created as appropriate. Most projects will only have one audio and one video track. \nTracks can be expanded or contracted. Expanded tracks stack their clips vertically according to the clips layer position priority When a track is collapsed all sources appear at the same vertical position as if contained within a single layer. This single layer can then be further collapsed. \nTracks are themselves subdivided into layers. Layers are priority levels within a track. For audio all layers within a track are mixed together into a single stream. For video all sources within a track are composited together in a single stream. The layer position determines the order in which videos are composited with the visually topmost layer appearing as the top most source in the stream. \nimages glayer_addition.png The user can add layers to a given track by dragging the track s separator bar downward. Similarly the user can remove tracks by dragging the layer s separator bar upward however removal of the bottom layer will only be permitted if the layer is empty. Objects within layers can be stacked arbitrarily. This is particularly useful for effects which operate lower priority objects within the timeline. \nexpanded layer Expanded Layer \nOrdinarily layers take up a fair amount of space. This is to make room for thumbnails waveforms and keyframes. \ncollapsed layer Collapsed Layer \nLayers and tracks can be contracted to save space. The user can contract a layer by clicking their expander widgets on the far left side of the timeline. \nimages gcontracted_track.png \nThis can also be done for entire tracks \nimages gtimelineobject_detail.png \nSources and effects within a track are content streams of a single media type. Sources are clips which provide data. Effects are filters which consume lower priority clips as input and produce filtered output. \nBoth Source and effect objects have properties. All properties can be manipulated via the property browser but some of properties like audio volume or video alpha will be so commonly used that they are embedded directly onto the widget. These embedded interpolation curves are manipulated in exactly the same way as interpolation curves in the property editor see the Default Property Editor section for more info. \nObjects in the timeline can move in both horizontal and vertical axis. The semantics however change depending on the type of object. For all objects the horizontal x axis is interpreted as the time axis. For sources an effects the vertical y axis the source s layer position within a track tracks are shown visually stacked but moving a source between tracks is accomplished through a different mechanism \nAll objects have edge snapping enabled during horizontal motion. At this point we believe this is the most common use case. This edge snapping effect is intended to be subtle with a deaband of only a few pixels. \nimages gdeactivated_objects \nObjects in the timeline can be temporarily deactivated. The deactivate command is in found in the timeline toolbar and will deactivate whatever objects are in the current selection. The reactivate command undoes this operation. \nAn entire track can also be suppressed. To do this click the disable toggle near the track s name on the left side of the timeline. \nimages gadd_clip1.png The user chooses the clip from the clip browser by clicking and dragging. \nimages gadd_clip2.png When the object enters the timeline the timeline responds by showing how the timeline will change. In this case the clip has both audio and video streams so objects appear in both audio and video tracks. \nimages gadd_clip3.png The user can move objects to desired layers and time offsets. \nimages gadd_clip4.png By holding the appropriate modifier key the user can push existing objects out of the way... \nimages gadd_clip5.png or add a source into a new layer. \nEffects can be dropped into the timeline in almost exactly the same way as clips. The main difference is that effects come from the effects library. \nimages gadd_effect1.png User selects the effects library from the tab. \nimages gadd_effect2.png When adding effects into a new layer the layer is initially collapsed. \nTrimming a clip is always possible by clicking dragging on source trimming handles. By default the in or out point of a clip should be edge snapped so that it is easy to put the clip back the way it was The UI should constrain the setting of in out point so that sources can t be stretched beyond maximum native duration. clicking and dragging a trimming handle should not change the current selection \nimages gtrim1.png \nFirst the user moves the mouse over the desired clip s trimming handle \nimages gtrim2.png \nThe cursor changes to a left or right edge trimming cursor. \nimages gtrim3.png \nClick and drag sets the in or out point of the clip as appropriate. \nA variant of trimming which works when two clips are adjacent in the same layer. Sets the in point of the left clip an the out point of the right clip keeping the total duration of both sources the constant. Roll edits are activated by holding the appropriate modifier key while dragging a trimming handle. Note that this is only expected to work when it is possible to set the in out points of both sources to the same point in time. \nimages groll1.png \nFirst the user places the mouse over the appropriate trimming handle. \nimages groll2.png \nThe user holds down the appropriate modifier key. Cursor changes from trimming to roll edit cursor. \nimages groll3.png \nWhen the user drags the mouse the edit points are set as appropriate. \nimages gtrim3.png \nHowever if the user releases the roll edit modifier key the edit reverts to the default trimming operation. \nThis is another variant on basic trimming. The source who s trimming handle is being manipulated is trimmed as usual however the adjacent source s are rightward in the appropriate direction so that the trimming does not create a gap between the sources. This shifting carries down the entire length of the track keeping sources in the same relative position. \nimages gripple1.png \nUser places cursor over the desired source s trimming handle. \nimages gripple2.png \nUser holds the appropriate modifier key. Cursor changes to ripple cursor \nimages gripple3.png \nUser drags the the mouse. Adjacent sources are shifted. \nimages gripple4.png \nThe user can also hold an additional modifier key to make the ripple edit work across multiple layers. \nIf the user releases the ripple edit modifier key the edit reverts to the default trimming operation. \nAnother variant on basic trimming. The source s in out points are not set as normal but rather the source keeps the same in out points and the source is sped up or slowed down to accommodate the new duration. Timestretch only applies to sources of finite length such as files. \nThere are two methods of combining timeline objects together linking and grouping. Linking allows the user to keep distinct timeline objects synchronized. Moving one object causes all of its linked sibling objects to move. The relative offset between siblings is preserved. \nimages glink1.png image link2.png \nSome clips will be linked by default for example audio and video from the same file \nimages glink1.png image link3.png \nBut the user can link arbitrary objects together as well. \nTo link objects \nTo unlink objects \nGrouping is similar to linking in that multiple objects are combined but different in that the resulting group is treated as a single object. The user can make multiple clones of a single master and changes to the master will ripple out to each of the clones. Unlike linking grouping creates a new clip in the Clip Library. Effects applied to the group apply to the output of the group as a whole rather than the topmost object in the group. \nimages ggrouping1.png image grouping2.png \nTo group objects \nTo ungroup objects \nTODO how will we edit the groups Two approaches recursive editing or expanding in place. What are the pros and cons of each Other issues full partial or no synchronization of clones. \nimages gclip_library.png \nContains a list of all the clips in the project. The user can drag external files onto this component to add them to the project an import tool bar command also works. The user adds clips to the Timeline by dragging them them from the Clip Library and dropping them onto the Timeline. \nThe Clip Library also provides commands to manipulate the clips in the project \nSharing the same tab view as the source browser is the property editor. While the timeline is meant to provide a film strip metaphor the property interface allows the user to change the more abstract properties of the currently selected timeline object s for example audio balance or image color correction The type of controls presented are determined by the current selection \n\nGoals \nFeatures The default editor lets you set all of the otherwise hidden properties of an object. It s will be most usable when the mapping between an object s properties and their effect on the output is straightforward. For example audio volume our video alpha. The current implementation of the videobox element is a good example of what won t work well with this module a more dedicated UI focused on cropping panning would needed \nA few object properties will be static i.e. they are time invariant These will be displayed as standard GTK Widgets. Other properties are controllable i.e. time varying The user can directly manipulate the interpolation curves for these properties through curve control points objects which we refer to as key frames. A partial prototype of this design is available. \nimages gproperties_curve.png \nThe user can add key frames in two different ways ways \nThe user can delete key frame points in two different ways \nGStreamer supports different interpolation modes but only for the entire curve. Changing the interpolation mode for a single point isn t possible we ll have to write our own interpolation code On the other hand it makes sense to treat interpolation mode as a per point option. For now setting the interpolation mode on a point will simply set the interpolation mode on its parent curve. \nThe user can add still images to the timeline. By default the image is letterboxed to the current project resolution but these defaults can be changed to suit the users s needs. \nimages gimage_source1.png First the user selects the image in the timeline \nimages gimage_source2.png The image property editor appears in the property browser. \nimages gimgage_source3.png The user can crop the image to an arbitrary region. \nimages gimage_source4.png \nimages gimage_source5.png The user can scale the image as appropriate. \nimages gimage_source6.png The user can also set the orientation of the image. \nNEEDS WORK \nSpecify sets of pictures which will be displayed in sequence \nOther Ideas \nNEEDS WORK \nFor the motion transform effect object yet to be implemented \nNeeds to support the following properties over time \nAlso need to be able to set the color and or alpha of the background \nIdeas...parametric curves on a d plane Looping previews \nNEEDS WORK \nChroma key \nBlue Green Red screen \nShould thresholds and key color be time varying Definitely need at least a local preview. Using the viewer would be better. \nimage title card editor The title card editor might look something like this. \nThe effect library lists all of the available effects whether delivered through plug ins or internal to PiTiVi. The user can drag and drop effects into the timeline in the same way they can with clips. \nProvides application level commands \nFlush with the edge of the screen in full screen mode for easy access to commands. \nFinally there is one modal tool the split tool which splits a clip or effect object into two segments. \nZooming Controls \nProvides a list of commands which operate on the current selection. \nIn addition other commands will appear or become sensitive depending on context i.e. the current selection. \nWhen one or more curves is in the selection \nThis is a list of every imaginable setting that could possibly go in there. It is intended to be reviewed mercilessly so that we decide to accept deny their inclusion. \n"});